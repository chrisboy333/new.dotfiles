require("page-modes/gmail.js");

define_webjump("java", "http://javadocs.org/%s/");
define_webjump("j", "http://sonian.onjira.com/browse/ENG-%s");
define_webjump("c", "http://dev.clojure.org/jira/browse/%s");

url_remoting_fn = load_url_in_new_buffer;

var user_agents =
  { "conkeror": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 conkeror/1.0pre",
    "firefox": "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0",
    "chromium": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.19 (KHTML, like Gecko) Ubuntu/12.04 Chromium/18.0.1025.151 Chrome/18.0.1025.151 Safari/535.19" };

var agent_completer = prefix_completer($completions = Object.keys(user_agents));

interactive("user-agent", "Pick a user agent from the list of presets",
            function(I) {
              var ua = (yield I.window.minibuffer.read(
                $prompt = "Agent:",
                $completer = agent_completer));
              set_user_agent(user_agents[ua]);
            });
